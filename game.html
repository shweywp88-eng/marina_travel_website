<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oyster Shucking Game - Marina Travel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .game-area {
            min-height: 90vh;
            background: linear-gradient(rgba(0,119,182,0.7), rgba(0,119,182,0.7)), url('https://media.istockphoto.com/id/599483250/photo/oysters-on-stone-plate-with-ice-and-lemon.jpg?s=612x612&w=0&k=20&c=FwA57Z8rbBwKxuHGhccDAilbMXoHMFfkV2LbD7E8Umw=') center/cover no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .game-title {
            text-align: center;
            color: white;
            margin-bottom: 50px;
        }
        .oyster {
            position: absolute;
            width: 120px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .oyster:hover {
            transform: scale(1.1);
        }
        .oyster-opened {
            opacity: 0.3;
            pointer-events: none;
        }
        .game-info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 18px;
        }
        .result {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            max-width: 600px;
            display: none;
            z-index: 10;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand fs-3" href="index.html">Marina Travel</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="services.html">Tours</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    <li class="nav-item"><a class="nav-link active" href="game.html">Sea Quiz</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="game-area">
        <div class="container">
            <div class="game-title" data-aos="fade-up">
                <h1 class="display-4 mb-4">Oyster Shucking Game</h1>
                <p class="lead fs-3">Click to shuck oysters and find pearls!</p>
            </div>

            <div class="game-info">
                <p>Score: <span id="score">0</span></p>
                <p>Oysters Left: <span id="oystersLeft">10</span></p>
            </div>

            <!-- Oyster Elements (Dynamically Added by JS) -->
            <div id="oyster-container"></div>

            <!-- Result Popup -->
            <div class="result" id="result">
                <h2 class="text-primary mb-4">Game Over! ðŸ¦ª</h2>
                <p class="fs-4 mb-4">Your Score: <span id="final-score"></span></p>
                <p class="fs-4 mb-4" id="fact"></p>
                <button class="btn btn-primary btn-lg" onclick="resetGame()">Play Again</button>
            </div>
        </div>
    </section>

    <footer>
        <div class="container text-center">
            <p class="fs-3 mb-4">Marina Travel</p>
            <p class="fs-5">Hotline: <strong>0933.368.385</strong> | Email: info@marinatravel.com.vn</p>
            <hr class="my-5">
            <p>&copy; 2025 Marina Travel</p>
        </div>
    </footer>

    <a href="#" class="back-to-top">â†‘</a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        const oysterContainer = document.getElementById('oyster-container');
        const scoreDisplay = document.getElementById('score');
        const oystersLeftDisplay = document.getElementById('oystersLeft');
        const result = document.getElementById('result');
        const finalScore = document.getElementById('final-score');
        const fact = document.getElementById('fact');

        let score = 0;
        let oystersLeft = 10;
        let gameActive = true;

        const facts = [
            "GÃ² GÄƒng oysters are a delicacy in VÅ©ng TÃ u!",
            "Oysters can filter up to 200 liters of water a day.",
            "The pearl inside an oyster takes years to form.",
            "VÅ©ng TÃ uâ€™s oyster farms are eco-friendly and sustainable.",
            "Oyster shucking is a traditional skill in Vietnam."
        ];

        // Spawn Oysters
        function spawnOyster() {
            if (!gameActive || oystersLeft <= 0) return;

            const oyster = document.createElement('img');
            oyster.classList.add('oyster');
            oyster.src = 'https://cdn-icons-png.flaticon.com/512/2712/2712614.png'; // Oyster icon
            const top = Math.random() * 60 + 10; // 10% to 70% from top
            const left = Math.random() * 80 + 10; // 10% to 90% from left
            oyster.style.top = `${top}vh`;
            oyster.style.left = `${left}vw`;
            oysterContainer.appendChild(oyster);

            oyster.addEventListener('click', () => {
                if (gameActive) {
                    oyster.style.animation = 'shake 0.5s';
                    setTimeout(() => {
                        oyster.classList.add('oyster-opened');
                        const hasPearl = Math.random() < 0.3; // 30% chance of pearl
                        if (hasPearl) {
                            score += 20;
                            oyster.src = 'https://cdn-icons-png.flaticon.com/512/3050/3050133.png'; // Pearl icon
                        } else {
                            score += 10;
                        }
                        scoreDisplay.textContent = score;
                        oystersLeft--;
                        oystersLeftDisplay.textContent = oystersLeft;
                        setTimeout(() => oyster.remove(), 500);

                        if (oystersLeft <= 0) endGame();
                    }, 500);
                }
            });
        }

        // Initial Spawn
        for (let i = 0; i < 10; i++) spawnOyster();

        // End Game
        function endGame() {
            gameActive = false;
            finalScore.textContent = score;
            fact.textContent = facts[Math.floor(Math.random() * facts.length)];
            result.style.display = 'block';
        }

        // Reset Game
        function resetGame() {
            gameActive = true;
            score = 0;
            oystersLeft = 10;
            scoreDisplay.textContent = score;
            oystersLeftDisplay.textContent = oystersLeft;
            result.style.display = 'none';
            oysterContainer.innerHTML = '';
            for (let i = 0; i < 10; i++) spawnOyster();
        }

        AOS.init({ once: true });
    </script>
</body>
</html>